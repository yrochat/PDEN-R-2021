---
title: "Introduction à R"
subtitle: "Première partie"
author: "Yannick Rochat (yannick.rochat@epfl.ch)"
date: "5 mai 2021"
output:
    ioslides_presentation:
    mathjax: local
    self_contained: no
---

## Le plan du cours

Première partie

* Introduction à R
* Bonnes pratiques dans la gestion, le traitement et la publication des données de la recherche

Deuxième partie

* Tableaux de données
* Importation de données

Troisième partie 

* Visualisation de données

Quatrième partie

* Visualisation interactive de données


## Introduction à R (première partie)

* Qu'est-ce que R ? 
* Qu'est-ce que RStudio ?
* Des ressources utiles
* Qu'est-ce qu'un notebook ?
* Qu'est-ce qu'un package ?
* Comment installer un package ?
* Les premières opérations


## Qu'est-ce que R ? 

R est un langage de programmation ainsi qu'un logiciel prévu à l'origine pour faire de l'analyse statistique sur Mac sur la base du langage propriétaire S.

Il a rapidement eu du succès, jusqu'à devenir un langage de référence aujourd'hui.

---

R peut par exemple être lancé dans un terminal.

Mais R désigne également une interface de programmation que l'on nomme R GUI, "GUI" signifiant "Graphical User Interface".

R GUI est un logiciel libre.


## Qu'est-ce que RStudio ?

RStudio est un environnement permettant de programmer en R, c'est-à-dire un peu plus qu'une simple interface graphique.

---

En plus d'afficher une console (en bas à gauche, là où le code est exécuté) et une fenêtre de script (en haut à gauche, là où l'on rédige le code que l'on veut réutiliser), RStudio permet par exemple de connaître en tout temps les variables enregistrées en mémoire, ou encore d'utiliser un notebook tel que celui-ci.


## Des ressources 

**Introduction à R et au tidyverse** de Julien Barnier

https://juba.github.io/tidyverse

**R for Data Science** de Garrett Grolemund & Hadley Wickham

http://r4ds.had.co.nz/

**Les cheatsheets de RStudio**

https://www.rstudio.com/resources/cheatsheets/

## Obtenir de l'aide

… quand on connaît le nom de la fonction.

```{r eval = FALSE}
## La page d'aide d'une variable
help(exp)                     

## Donne le même résultat :
?exp                          
```

La touche de tabulation peut être très utile ici lorsqu'on connaît les premières lettres d'une fonction.

---

… quand on ne connaît pas le nom de la fonction mais seulement celui de la méthode.

```{r eval = FALSE}
## Chercher dans les pages d'aide
help.search("linear model")   

## Donne le même résultat :
??"linear model"   
```


---

Dans ce notebook comme dans les scripts que vous trouverez en ligne, les fonctions sortent du chapeau comme si de rien n'était.

Ne pas se faire d'illusions: 

* Il a d'abord fallu découvrir leur existence.
* Puis comprendre leur fonctionnement.
* Le plus souvent en faisant des erreurs au passage.

---

C'est pour cette raison qu'il ne faut **jamais** hésiter à faire une recherche 

* dans les pages d'aide de R
  + avec `?` lorsqu'on connaît la fonction.
  + avec `??` lorsqu'on ne la connaît pas.
* en ligne 
  + sur stackoverflow
  + sur un moteur de recherche
  
---

### Autres ressources en ligne (veille)

* Sur Twitter, le hashtag #Rstats
* Sur R-blogger, un agrégateur de blogs dont le thème est le langage R https://www.r-bloggers.com/
* Sur les mailing lists https://www.r-project.org/mail.html 


## L'espace de travail

Qu'est-ce que l'espace de travail ?

Où s'affiche-t-il ?

Comment le gérer ?

Comment le modifier ?


## Qu'est-ce qu'un notebook ?

Un notebook permet de présenter une analyse incluant autant du texte que du code et des résultats.

Cette démarche offre de la transparence et permet en particulier la transmission de méthodes et la réplicabilité de la recherche.

Les exportations sont possibles vers différents formats.


## Qu'est-ce qu'un package ?

Un package est un ensemble de fonctions réunies souvent autour d'une thématique.

----

Un package doit tout d'abord être installé avec la fonction `install.packages` avant d'être chargé avec la fonction `library`.

Un package doit être installé pour pouvoir être chargé. Il n'y a besoin de faire cette étape qu'une fois, à moins d'une mise à jour.

Un package que l'on souhaite utiliser doit être chargé à chaque utilisation de R.

Un certain nombre de packages sont installés et chargés d'office lorsque R est lancé pour la première fois.

---- 

Toutes les fonctions du package `base`.

```{r eval = FALSE}
help(package="base")
```

----

On peut explorer les packages par exemple à travers les *task views*.

https://cran.r-project.org/web/views/

----

La gestion des packages peut se faire également avec l'onglet "Packages" dans la fenêtre en bas à droite de RStudio.

Par exemple, plus tard dans ce cours, nous utiliserons le package `rmarkdown` pour manipuler des notebooks, ou `ggplot2` pour réaliser des visualisations de données.


## Les premières opérations


```{r}
## Une simple addition
4 + 3         
```

----

```{r}
## Priorité des opérations
2^2 + 3*4     

```


----

```{r}
## Sauvegarde d'une valeur dans une variable
z <- 12.5
z
```

---

Addition de deux variables

```{r}
x <- 12.5
y <- 7.5
x + y
```








